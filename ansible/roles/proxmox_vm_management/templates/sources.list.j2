---
# Proxmox repository configuration template
# Configures community repositories and removes enterprise ones

{% if pve_repository_type == "community" %}
# Proxmox VE Community Repository
deb http://download.proxmox.com/debian/pve {{ ansible_distribution_release }} pve-no-subscription

# Optional: Proxmox VE Test Repository (uncomment if needed)
# deb http://download.proxmox.com/debian/pve {{ ansible_distribution_release }} pvetest

{% elif pve_repository_type == "enterprise" %}
# Proxmox VE Enterprise Repository
# Note: Requires valid subscription
deb https://enterprise.proxmox.com/debian/pve {{ ansible_distribution_release }} pve-enterprise

{% endif %}

# Proxmox Backup Server Community Repository
{% if pbs_repository_type | default("community") == "community" %}
deb http://download.proxmox.com/debian/pbs {{ ansible_distribution_release }} pbs-no-subscription
{% endif %}

# Ceph Community Repository
{% if ceph_repository_type | default("community") == "community" %}
deb http://download.proxmox.com/debian/ceph-pacific {{ ansible_distribution_release }} no-subscription
{% endif %}
